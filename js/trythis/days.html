<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Days</title>
  </head>
  <body>
    <div
      style="margin: auto; margin-top: 200px; padding : 15px; border: 3px solid black; width : 300px;"
    >
      <div>
        <button id="btnKor">국어 수업 요일선택></button>
        <label id="kor">요일을 선택하세요!</label>
      </div>
      <div style="margin-top : 1rem;">
        <button id="btnMath" onclick="nextWeekFunction.math()">
          수학 수업 요일선택>
        </button>
        <label id="math">요일을 선택하세요!</label>
      </div>
    </div>

    <script>
        const WEEKS = '일월화수목금토';
        const getNextWeek = () => {
            let widx = -1;
            return () => {
                widx += 1;
                if (widx >= WEEKS.length) widx = 0;
                return `${WEEKS[widx]}요일`;
            };
        };
        const debounce = (cb, delay) => {
          let timer;
          return (...args) => {
            if (timer) clearTimeout(timer);
            timer = setTimeout(cb, delay, ...args);
          }
        }
        const throttle = (cb, delay) => {
          let timer;
          return (...args) => {
            if (timer) return;
            timer = setTimeout(() => {
              cb(...args);
              timer = null;
            }, delay);
          }
        }

      const korWeekF = getNextWeek();
      const mathWeekF = getNextWeek();

      const nextWeekFunction = {
        kor : debounce(() => {document.getElementById('kor').innerText = korWeekF();},500),
        math : throttle(()=>{document.getElementById('math').innerText = mathWeekF();}, 500)
      }
        window.addEventListener('load', ()=>{
            document.getElementById('btnKor').addEventListener('click', ()=>nextWeekFunction.kor());
        });
    </script>
  </body>
</html>
